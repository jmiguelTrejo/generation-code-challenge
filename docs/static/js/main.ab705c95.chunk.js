(this["webpackJsonpgeneration-take-home-intern"]=this["webpackJsonpgeneration-take-home-intern"]||[]).push([[0],{26:function(e,t,n){},27:function(e,t,n){},35:function(e,t,n){"use strict";n.r(t);var r=n(0),o=n(6),a=n.n(o),i=(n(26),n(10)),c=n(11),s=n(21),l=n(19),d=(n(27),n(20)),u=n(3),j=n(5),h=n(13),b=n(14),f=n(17),v=n.n(f),O=n(18),m=function(e,t){var n=Object(r.useRef)(!0);Object(r.useEffect)((function(){return function(){n.current=!1}}),[]);var o=Object(r.useState)({data:null,loading:!0,error:null}),a=Object(j.a)(o,2),i=a[0],c=a[1];return Object(r.useEffect)((function(){(function(){var r=Object(O.a)(v.a.mark((function r(){var o,a,i,s,l,d,u,j,h;return v.a.wrap((function(r){for(;;)switch(r.prev=r.next){case 0:if(o=!1,t&&null!==(a=window.localStorage.getItem("cacheUrl"))&&(i=JSON.parse(a),(s=i.find((function(t){return t.key===e})))&&(c({loading:!1,error:null,data:s.data}),o=!0)),o){r.next=16;break}return r.prev=3,r.next=6,fetch(e);case 6:return l=r.sent,r.next=9,l.json();case 9:d=r.sent,n.current&&(t&&(u=[],j={key:e,data:d},null!==(h=window.localStorage.getItem("cacheUrl"))&&(u=JSON.parse(h)),u.push(j),localStorage.setItem("cacheUrl",JSON.stringify(u))),c({loading:!1,error:null,data:d})),r.next=16;break;case 13:r.prev=13,r.t0=r.catch(3),n.current&&(console.log("Error in ",e,r.t0),c({loading:!1,error:null,data:null}));case 16:case"end":return r.stop()}}),r,null,[[3,13]])})));return function(){return r.apply(this,arguments)}})()()}),[e,t]),i},p=n(8),g=n(1),x=Object(r.memo)((function(e){var t=e.marker,n=e.handleClick,o=Object(r.useState)({center:{lat:19.43224,lng:-99.1335},googleKey:"AIzaSyAmX-kWiHUQ7W3sUDe3viG2xET1q45-QAQ"}),a=Object(j.a)(o,2),i=a[0],c=a[1],s=i.center,l=i.googleKey,d=m("https://maps.googleapis.com/maps/api/geocode/json?address=".concat(encodeURI(t.Address),"&key=").concat(l),!0),h=d.loading,b=d.data;return Object(r.useEffect)((function(){if(b&&"OK"===b.status){var e=b.results[0].geometry.location;c(Object(u.a)(Object(u.a)({},c),{},{center:e}))}}),[h,b]),Object(g.jsx)(g.Fragment,{children:!!b&&Object(g.jsx)(p.c,{title:t.Name,position:s,onClick:function(e){return n(e,t.Name)}})})})),w=function(e){var t=e.addFavorite,n=e.markerList,r=e.mapStyle,o=void 0===r?{height:"80vh",width:"100%"}:r,a=e.center,i=void 0===a?{lat:19.43224,lng:-99.1335}:a,c=e.apiKey,s=void 0===c?"AIzaSyAmX-kWiHUQ7W3sUDe3viG2xET1q45-QAQ":c,l=function(e,n){var r=e.latLng,o=r.lat,a=r.lng;t(n,o(),a())};return Object(g.jsx)(g.Fragment,{children:Object(g.jsx)(p.b,{googleMapsApiKey:s,children:Object(g.jsx)(p.a,{mapContainerStyle:o,zoom:13,center:i,children:!!n&&n.map((function(e){return Object(g.jsx)(x,{marker:e,handleClick:l},e.Name)}))})})})},y=function(e){var t=e.item,n=e.removeFavorite;return Object(g.jsxs)("div",{className:"item",children:[Object(g.jsx)(h.a,{onClick:function(){n(t.title)},icon:b.b}),Object(g.jsx)("p",{children:t.title})]})},k=function(e){var t=e.favorites,n=e.removeFavorite,r=e.toggleListFavorite;return console.log(t),Object(g.jsxs)("div",{className:"fav-list animate__animated  animate__backInRight ",children:[Object(g.jsx)("button",{onClick:r,className:"btn-close",children:"X"}),Object(g.jsx)("h1",{children:" My Favorite Stores "}),!!t&&t.map((function(e){return Object(g.jsx)(y,{item:e,removeFavorite:n},e.title)}))]})},S=function(){var e=m("store_directory.json").data,t=Object(r.useState)({markerList:[],favorites:[],openFavorites:!1,center:{lat:19.43224,lng:-99.1335},animateFav:"fav-icon"}),n=Object(j.a)(t,2),o=n[0],a=n[1],i=o.markerList,c=o.favorites,s=o.openFavorites,l=o.center,f=o.animateFav;Object(r.useEffect)((function(){var e=window.localStorage.getItem("favoriteStoreList");if(null!==e){var t=JSON.parse(e);a((function(e){return Object(u.a)(Object(u.a)({},e),{},{favorites:t})}))}}),[]),Object(r.useEffect)((function(){a((function(t){return Object(u.a)(Object(u.a)({},t),{},{markerList:e})}))}),[e]),Object(r.useEffect)((function(){"fav-icon"!==f&&setTimeout((function(){a((function(e){return Object(u.a)(Object(u.a)({},e),{},{animateFav:"fav-icon"})}))}),1e3)}),[f]);var v=function(){a(Object(u.a)(Object(u.a)({},o),{},{openFavorites:!s}))};return Object(g.jsxs)("div",{className:"your-component",children:[Object(g.jsx)("h1",{children:" Put your solution here!"}),Object(g.jsxs)("div",{className:"map-wrapper",children:[Object(g.jsx)(w,{addFavorite:function(e,t,n){if(c.find((function(t){return t.title===e})))a(Object(u.a)(Object(u.a)({},o),{},{animateFav:"fav-icon animate__heartBeat"}));else{var r={title:e,lat:t,lng:n};a(Object(u.a)(Object(u.a)({},o),{},{favorites:[].concat(Object(d.a)(c),[r]),animateFav:"fav-icon animate__heartBeat"}));var i=window.localStorage.getItem("favoriteStoreList"),s=[];null!==i&&(s=JSON.parse(i)),s.push(r),window.localStorage.setItem("favoriteStoreList",JSON.stringify(s))}},markerList:i,center:l}),!!c&&Object(g.jsx)("div",{className:f,onClick:v,children:Object(g.jsx)(h.a,{icon:b.a})}),s&&Object(g.jsx)(k,{favorites:c,removeFavorite:function(e){var t=c.filter((function(t){return t.title!==e}));a(Object(u.a)(Object(u.a)({},o),{},{favorites:t})),window.localStorage.setItem("favoriteStoreList",JSON.stringify(t))},toggleListFavorite:v})]})]})},F=function(e){Object(s.a)(n,e);var t=Object(l.a)(n);function n(){return Object(i.a)(this,n),t.apply(this,arguments)}return Object(c.a)(n,[{key:"render",value:function(){return Object(g.jsxs)("div",{className:"App",children:[Object(g.jsx)("h1",{children:"Hi, Welcome to the Digital Generation Code Challenge!"}),Object(g.jsx)("h3",{children:"Intro:"}),Object(g.jsx)("p",{children:"At Generation, we have many users: students, teachers, employers, and the core Generation team."}),Object(g.jsx)("p",{children:"Everything we do at Generation is centered around better serving the needs of these users. "}),Object(g.jsx)("p",{children:"In your role, you'll be using your ninja JavaScript skills to empower Generation to better serve these users."}),Object(g.jsx)("p",{children:"That's why we've included this piece in the recruiting process. It gives you an opportunity to demonstrate your creative problem-solving, user-centric design, and coding style. "}),Object(g.jsx)("h3",{children:" Here's how it works:"}),Object(g.jsx)("p",{}),Object(g.jsxs)("p",{children:["Below are some real-life ",Object(g.jsx)("a",{target:"_blank",rel:"noopener noreferrer",href:"https://en.wikipedia.org/wiki/User_story",children:"user stories"})," that we face at Generation."]}),Object(g.jsx)("p",{children:"We'd love to see how you use JS and React to address these user stories."}),Object(g.jsx)("p",{children:"Feel free to add libraries, create new components, or otherwise change the codebase. This app is yours!"}),Object(g.jsx)("p",{children:"If you're having trouble, don't be afraid to ask for help!"}),Object(g.jsx)("strong",{children:"Student user stories:"}),Object(g.jsxs)("ul",{children:[Object(g.jsxs)("li",{children:["As a student, I want to see a map of ",Object(g.jsx)("b",{children:"Mexico City"})]}),Object(g.jsxs)("li",{children:["As a student, I want to see a map that has ",Object(g.jsx)("b",{children:"all the stores"})," represented as ",Object(g.jsx)("b",{children:"markers/pins"})," on the map. (",Object(g.jsx)("a",{target:"_blank",rel:"noopener noreferrer",href:"https://developers.google.com/maps/documentation/javascript/examples/marker-simple",children:"What a google maps marker is?"}),")"]}),Object(g.jsxs)("li",{children:["As a student, I want to be able to click on a store marker and add it to a list of ",Object(g.jsx)("b",{children:"'My Favorite Stores'"})]}),Object(g.jsxs)("li",{children:["As a student, I want to be able to click on a store in the ",Object(g.jsx)("b",{children:"'My Favorite Stores'"})," and remove if from the list"]})]}),Object(g.jsx)("strong",{children:"Helpful tips:"}),Object(g.jsxs)("ul",{children:[Object(g.jsxs)("li",{children:["Feel free to use our Google Maps API key: ",Object(g.jsx)("b",{children:"AIzaSyCVH8e45o3d-5qmykzdhGKd1-3xYua5D2A"})]}),Object(g.jsxs)("li",{children:["The list of stores is located in the file ",Object(g.jsx)("b",{children:"store_directory.json"})," "]}),Object(g.jsxs)("li",{children:[Object(g.jsx)("b",{children:"Focus on the user, not the technology."})," A simple implementation that impresses the user is better than a super technical solution that impresses other developers."]}),Object(g.jsx)("li",{children:"That said, code that is easy to follow is always appreciated ():"})]}),Object(g.jsx)(S,{})]})}}]),n}(r.Component),I=Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));function A(e){navigator.serviceWorker.register(e).then((function(e){e.onupdatefound=function(){var t=e.installing;t.onstatechange=function(){"installed"===t.state&&(navigator.serviceWorker.controller?console.log("New content is available; please refresh."):console.log("Content is cached for offline use."))}}})).catch((function(e){console.error("Error during service worker registration:",e)}))}a.a.render(Object(g.jsx)(F,{}),document.getElementById("root")),function(){if("serviceWorker"in navigator){if(new URL("",window.location).origin!==window.location.origin)return;window.addEventListener("load",(function(){var e="".concat("","/service-worker.js");I?(!function(e){fetch(e).then((function(t){404===t.status||-1===t.headers.get("content-type").indexOf("javascript")?navigator.serviceWorker.ready.then((function(e){e.unregister().then((function(){window.location.reload()}))})):A(e)})).catch((function(){console.log("No internet connection found. App is running in offline mode.")}))}(e),navigator.serviceWorker.ready.then((function(){console.log("This web app is being served cache-first by a service worker. To learn more, visit https://goo.gl/SC7cgQ")}))):A(e)}))}}()}},[[35,1,2]]]);
//# sourceMappingURL=main.ab705c95.chunk.js.map